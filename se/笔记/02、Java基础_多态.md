# Java基础

授课老师：学相伴飞哥



## 01、课程大纲

01、我对Java编程这个家伙的理解是什么？
02、继承、子类父类关系
03、多态变量、向上造型
04、封装、多态、Object类、DOME的新类型、消除代码复制、可扩展性
05、新特性 Stream（可能延期周二）



## 02、什么是多态

从上面可以得出结论：

- Java中的任何一个类都是多态的，它们能保存不止一种类型的对象。
- 它们可以保存的是除了自身对象以外，还可以保存声明类型的子类的对象。
- 当把子类对象赋值给父类对象的引用的时候，就会引发多态。（也称之为：向上造型）。

## 03、向上造型注意的事项

- 子类的对象可以赋值给父类的变量，就会引发向上造型cast

  - 注意：==Java中不存在对象对对象分覆盖和赋值操作。==比如：

    ```java
    String str = "abc";
    str = "bcd";
    ```

    这个时候在内存空间中，是两个内存地址，而不是一个，首先会在内存空间中开辟一个空间，才能空间存储abc，让str指向，然后在开辟一块内存空间地址存储：“bcd” 。让其str指向新的地址，原来的地址在jvm中也就是：垃圾内存。

- 父类的引用对象不能直接赋值给子类的变量。

  ```java
  Item item = new Item();
  Video video = new Video();
  item = video; // 这个是正确的
  video = item;//编译错误
  ```

- 可以使用强制类型转换（造型）

  ```
  Item item = new Item();
  Video video = new Video();
  item = video; // 这个是正确的
  Video video2 = (Video)item;//出现ClassCaseException异常
  ```


## 04、向上造型总结

  - 用括号围起来的类型放在值的前面（只限于对象类型）
  - 对象本身并诶呦发生任何变化，所以不是“类型转换”
  - 运行时如果不合理就会出现类型转换异常：ClassCastException
  - 拿一个子类的对象，当做父类的对象来用使用
  - 向上造型是默认的，不需要运算符
  - 向上造型总是安全的。也就是  父=子 



## 05、函数的绑定

通过上面分析，Item分析有两个子类型，分别是：Course和Video。当一个父类存在多个子类型的时候，item就是一种多态变量。

```
for(Item item : itemList){
   item.println(); // 而这种多态变量，会根据自身的数据类型，自动去匹配子类的方法
   // 也就是说：item.这个动作的时候，java会自动去匹配实际的类型。而这个事情就称之为多态。
}
```

==item而这种多态变量，会根据自身的数据类型，自动去匹配子类的方法 也就是说：item.这个动作的时候，java会自动去匹配实际的类型。而这个事情就称之为多态。==

而`item.方法` 这个动态称之为：函数绑定

- 当通过对象变量调用函数的时候，调用哪个函数这个事情叫做绑定、
- 静态绑定：根据变量的声明类型来决定（也就是说你这个变量的申明类型，我就调用这个申明类型的函数。）
- ==动态绑定：根据变量的动态类型来决定==（也就是说：当实际管理的对象类型是什么，我就用那个类型的函数，因为编译器在编译的时候，根本不知道你这个具体的类型是什么？在java中选择都是动态绑定来处理函数的绑定。）
- 在成员函数中调用其他成员函数也可以通过this这个对象变量来调用。

比如在item.print这行的时候，其实在编译的时候并不知道具体的类型是什么。所以只能在运行的时候才能确认具体的类型。对于像java这样的程序语言来说，默认所有的绑定都是：动态绑定。





## 06、覆盖override

- 覆盖前提：继承关系
- 子类和父类中存在名字和参数表完全相同的函数，那么就存在覆盖关系
- 通过父类的变量调用存在覆盖关系的函数时，会调用变量当时所管理的对象所属的子类的函数。

